<mat-sidenav-container class="sidenav-container">
    <mat-toolbar color="primary">
        <button type="button" aria-label="Toggle sidenav" mat-icon-button [disableRipple]="true" routerLink="/">
            <img class="rotate" alt="Logo" src="favicon.svg" height="32" />
        </button>
        <a *ngFor="let menu_item of MENU_ITEMS" mat-button [routerLink]="menu_item.link" routerLinkActive="mat-accent"
            [routerLinkActiveOptions]="{exact: true}">
            {{ menu_item.tooltip | uppercase }}
        </a>
        <span class="spacer"></span>
        <ng-container *ngIf="auth.user$ | async; then logged else guest"></ng-container>
        <ng-template #guest>
            <button class="btn-menu" (click)="auth.googleSignInWithPopup()" mat-icon-button aria-label="Se connecter">
                <fa-icon [icon]="['fas', 'sign-in-alt']" [fixedWidth]="true" size="lg"></fa-icon>
            </button>
        </ng-template>
        <ng-template #logged>
            <div *ngIf="auth.user$ | async as user">
                <button class="btn-menu" (click)="auth.signOut()" mat-icon-button aria-label="Se dÃ©connecter">
                    <fa-icon [icon]="['fas', 'sign-out-alt']" size="lg"></fa-icon>
                </button>
            </div>
        </ng-template>
    </mat-toolbar>
    <main [@routeAnimations]="prepareRoute(outlet)">
        <router-outlet #outlet="outlet"></router-outlet>
    </main>
</mat-sidenav-container>